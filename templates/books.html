{% extends "base.html" %} 
{% block content %}

<!-- Jumbotron -->
<div class="jumbotron p-0">

  <!-- Card image -->
  <div class="view overlay rounded-top">
    <img src="https://mdbootstrap.com/img/Photos/Slides/img%20(134).jpg" class="img-fluid" alt="Sample image">
    <a href="#">
      <div class="mask rgba-white-slight"></div>
    </a>
  </div>

  <!-- Card content -->
  <div class="card-body text-center mb-3">

    <!-- Title -->
    <h3 class="card-title h3 my-4"><strong>Card title</strong></h3>
    <!-- Text -->
    <p class="card-text py-2">Some quick example text to build on the card title and make up the bulk of the card's</p>
    <!-- Button -->
    <a href="#" class="btn purple-gradient btn-rounded mb-4">Button</a>

  </div>

</div>
<!-- Jumbotron -->


<h3 class="headings">
  All Books
</h3>

<!-- book card -->
{% if books|length > 0 %} 
<div class="container">
<div class="row">
{% for book in books %}
  <div class="col col-sm col-md-4">
    <div class="card">
        <img src="{{ book.book_image }}" class="img-fluid" onerror="this.src='static/images/default_img.png';this.classname='img-fluid'"/>
      <div class="card-body">
        <h5 class="card-title">{{ book.book_name }}</h5>
        <p>Author : {{ book.author }}</p>
        <p><em>added by: {{ book.created_by| capitalize }}</em></p>
        {% if session.user|lower == book.created_by|lower %}
        <a
          href="{{ url_for('delete_book', book_id=book._id)}}"
          class="btn btn-primary"
          >Delete</a
        >
        <a
          href="{{ url_for('edit_book', book_id=book._id)}}"
          class="btn btn-success"
          >Edit</a
        >
        {% endif %}
        <a href="#" class="btn btn-primary">details</a>
      </div>
    </div>
  </div>
  {% endfor %} 
</div>

{% else %}
<h3 class="text-danger">No Books found</h3>
</div>
{% endif %} 

{% endblock%}
