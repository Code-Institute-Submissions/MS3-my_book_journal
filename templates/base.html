<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="{{ url_for('static', filename='favicon/apple-touch-icon.png') }}"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="{{ url_for('static', filename='favicon/favicon-32x32.png') }}"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="{{ url_for('static', filename='favicon/favicon-16x16.png') }}"
    />
    <link
      rel="manifest"
      href="{{ url_for('static', filename='favicon/site.webmanifest') }}"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css"
      integrity="sha512-xA6Hp6oezhjd6LiLZynuukm80f8BoZ3OpcEYaqKoCV3HKQDrYjDE1Gu8ocxgxoXmwmSzM4iqPvCsOkQNiu41GA=="
      crossorigin="anonymous"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.3/js/bootstrap.min.js"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
      type="text/css"
    />
    {% block styles %} {% endblock %}
    <title>My Book Journal</title>
  </head>
  <body>
    <header>
      <!-- top navbar -->
      <nav class="nav-extended-lg navbar navbar-light bg-light">
        <a href="{{ url_for('browse_books') }}" class="navbar-brand"
          >My Book Journal</a
        >
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a href="{{ url_for('browse_books') }}">Home</a>
            </li>
            {% if session.user %}
            <li class="nav-item">
              <a href="{{ url_for('my_lists', username=session['user']) }}"
                >My Lists</a
              >
            </li>
            <li class="nav-item">
              <a href="{{ url_for('add_book') }}">New Book</a>
            </li>
            {% if session.user|lower == "admin"|lower %}
            <li class="nav-item">
              <a href="{{ url_for('get_lists') }}">Manage Lists</a>
            </li>
            {% endif %}
            <li class="nav-item">
              <a href="{{ url_for('logout') }}">Log Out</a>
            </li>
            {% else %}
            <li class="nav-item">
              <a href="{{ url_for('register') }}">Register</a>
            </li>
            <li class="nav-item">
              <a href="{{ url_for('login') }}">Log In</a>
            </li>
            {% endif %}
          </ul>
          <form action="{{ url_for('search') }}" method="POST" class="form-inline my-2 my-lg-0">
                <input
                  type="search"
                  name="query"
                  id="query"
                  class="form-control mr-sm-2 validate"
                  placeholder="search books"
                  aria-label="Search"
                  required
                />
                <button type="submit" class="btn btn-outline-success my-2 my-sm-0">
                  Search
                </button>
            
          </form>
        </div>
      </nav>


    </header>

    <section>
      <!-- flash messages -->
      {% with messages = get_flashed_messages() %} {% if messages %} {% for
      message in messages %}
      <div class="container">
      <div class="row flashes">
        <h4 class="light-green darken-1 center-align">{{ message }}</h4>
      </div>
      </div>
      
      {% endfor %} {% endif %} {% endwith %}
    </section>

    <main class="container">{% block content %} {% endblock %}</main>

    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.3/js/bootstrap.min.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    {% block scripts %} {% endblock %}
  </body>
</html>
